{%- assign posts = paginator.posts | default: site.posts -%}
{% for post in posts %}
  <article>
    {% include meta.html post=post preview=true %}
    {% capture halfway %}
      {{ post.excerpt | split:' ' | size | divided_by:2 }}
    {% endcapture %}
    {{ post.excerpt | split:' ' | slice:0, halfway }} <div class="more"><a href="{{ post.url | relative_url }}">read more</a></div> {{ post.excerpt | split:' ' | slice: halfway, halfway | join:' ' }}
  </article>
{% endfor %}
